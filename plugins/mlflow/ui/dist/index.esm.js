var PluginMLFlow=function(T,e,p,o){"use strict";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=x=>x.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),S=(x,v)=>{const f=p.forwardRef(({color:u="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:w,className:h="",children:y,...b},s)=>p.createElement("svg",{ref:s,...E,width:i,height:i,stroke:u,strokeWidth:w?Number(a)*24/Number(i):a,className:["lucide",`lucide-${j(x)}`,h].join(" "),...b},[...v.map(([c,g])=>p.createElement(c,g)),...Array.isArray(y)?y:[y]]));return f.displayName=`${x}`,f};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=S("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=S("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=S("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=S("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),n={primary:"#13715B",primaryHover:"#0f604d",primaryLight:"rgba(19, 113, 91, 0.08)",successLight:"rgba(5, 150, 105, 0.1)",warningLight:"rgba(217, 119, 6, 0.1)",textPrimary:"#1A1919",textSecondary:"#344054",textTertiary:"#667085",textDisabled:"#9CA3AF",background:"#ffffff",backgroundSecondary:"#f9fafb",backgroundHover:"#f5f5f5",border:"#d0d5dd",borderLight:"#e5e7eb",disabled:"#E5E7EB"},l={sizes:{sm:"12px",md:"13px",xl:"16px",xxl:"18px"},weights:{medium:500,semibold:600}},F={sm:"8px",lg:"16px"},k={sm:"4px",md:"8px",lg:"12px"},D={none:"none",lg:"0px 4px 24px -4px rgba(16, 24, 40, 0.08), 0px 3px 3px -3px rgba(16, 24, 40, 0.03)"},B={base:{borderRadius:k.sm,fontWeight:l.weights.medium,fontSize:l.sizes.md,textTransform:"none",boxShadow:D.none,transition:"all 0.2s ease",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:F.sm},sizes:{medium:{height:"32px",padding:"8px 16px",fontSize:l.sizes.md}},primary:{outlined:{backgroundColor:"transparent",color:n.primary,border:`1px solid ${n.primary}`,"&:hover":{backgroundColor:n.primaryLight,borderColor:n.primaryHover},"&:disabled":{borderColor:n.disabled,color:n.textDisabled,cursor:"not-allowed"}}}},z={base:{backgroundColor:n.background,borderRadius:k.md,border:`1px solid ${n.border}`,padding:F.lg}},C={header:{backgroundColor:n.backgroundSecondary,fontWeight:l.weights.semibold,fontSize:l.sizes.sm,color:n.textTertiary,textTransform:"uppercase",padding:"12px 16px"},cell:{fontSize:l.sizes.md,color:n.textSecondary,padding:"12px 16px",borderBottom:`1px solid ${n.borderLight}`},row:{"&:hover":{backgroundColor:n.backgroundHover}}},L={base:{borderRadius:k.sm,fontSize:l.sizes.sm,fontWeight:l.weights.medium,padding:"2px 8px",display:"inline-flex",alignItems:"center"},success:{backgroundColor:n.successLight,color:"#16a34a"},warning:{backgroundColor:n.warningLight,color:"#ca8a04"},neutral:{backgroundColor:"rgba(107, 114, 128, 0.1)",color:"#4b5563"}},W={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1300},content:{backgroundColor:n.background,borderRadius:k.lg,boxShadow:D.lg,maxWidth:"600px",width:"90%",maxHeight:"90vh",overflow:"auto"},title:{fontSize:l.sizes.xxl,fontWeight:l.weights.semibold,color:n.textPrimary,margin:0}},H=x=>e.jsx($,{size:16,...x}),U=({apiServices:x})=>{const[v,f]=p.useState(!1),[u,i]=p.useState(null),[a,w]=p.useState(null),[h,y]=p.useState([]),[b,s]=p.useState(0),[c,g]=p.useState(10),A=x||{get:async r=>({data:await(await fetch(`/api${r}`)).json()}),post:async(r,t)=>({data:await(await fetch(`/api${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()})},M=p.useMemo(()=>{const r=h.reduce((d,m)=>{const _=(m.lifecycle_stage||"").toLowerCase();return _==="production"?d.active+=1:_==="staging"?d.staging+=1:_==="archived"&&(d.archived+=1),d},{active:0,staging:0,archived:0}),t=new Set(h.map(d=>d.experiment_id).filter(Boolean)).size;return{total:h.length,active:r.active,staging:r.staging,archived:r.archived,experiments:t}},[h]),P=r=>new Date(r).toLocaleDateString(),I=async()=>{var r;f(!0),i(null);try{const t=await A.get("/plugins/mlflow/models");if((r=t.data)!=null&&r.data){const d=t.data.data;"models"in d&&Array.isArray(d.models)?(d.configured?d.connected===!1?i(d.message||"MLFlow server is not reachable."):d.error&&i(d.error):i("Configure the MLFlow plugin to start syncing live data."),y(d.models)):y([])}else y([])}catch{i("Unable to reach the MLFlow backend."),y([])}finally{f(!1)}};p.useEffect(()=>{I()},[]);const q=async()=>{var r,t;f(!0),i(null);try{await A.post("/plugins/mlflow/sync"),await I()}catch(d){console.error("Error syncing MLflow data:",d),await I(),(t=(r=d.response)==null?void 0:r.data)!=null&&t.message?i(`Sync failed: ${d.response.data.message}`):i("Failed to sync with MLflow server. Showing cached data.")}},X=r=>{w(r)},Z=()=>{w(null)},J=p.useCallback((r,t)=>{s(t)},[]),K=p.useCallback(r=>{g(parseInt(r.target.value,10)),s(0)},[]),Q=p.useMemo(()=>{if(!h.length)return"0 - 0";const r=b*c+1,t=Math.min(b*c+c,h.length);return`${r} - ${t}`},[b,c,h.length]),Y=h.slice(b*c,b*c+c);return v?e.jsxs(o.Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:[e.jsx(o.CircularProgress,{}),e.jsx(o.Typography,{variant:"body2",sx:{ml:2},children:"Loading MLFlow data..."})]}):e.jsxs(o.Box,{sx:{p:3,maxWidth:"100%",overflowX:"hidden"},children:[u&&e.jsx(o.Alert,{severity:"warning",sx:{mb:3},children:u}),e.jsx(o.Box,{sx:{mb:2,display:"flex",justifyContent:"flex-end",alignItems:"center",gap:2,width:"100%"},children:e.jsx(o.Button,{variant:"outlined",startIcon:e.jsx(O,{size:16}),onClick:q,disabled:v,sx:{...B.base,...B.sizes.medium,...B.primary.outlined,textTransform:"none"},children:"Sync"})}),e.jsxs(o.Box,{sx:{display:"flex",gap:2,mb:4,flexWrap:"wrap"},children:[e.jsx(o.Card,{sx:{flex:"1 1 200px",minWidth:150,...z.base},children:e.jsxs(o.CardContent,{children:[e.jsx(o.Typography,{variant:"body2",sx:{color:n.textTertiary,fontSize:l.sizes.md},children:"Models"}),e.jsx(o.Typography,{variant:"h4",sx:{fontWeight:l.weights.semibold,color:n.textPrimary},children:M.total})]})}),e.jsx(o.Card,{sx:{flex:"1 1 200px",minWidth:150,...z.base},children:e.jsxs(o.CardContent,{children:[e.jsx(o.Typography,{variant:"body2",sx:{color:n.textTertiary,fontSize:l.sizes.md},children:"Active"}),e.jsx(o.Typography,{variant:"h4",sx:{fontWeight:l.weights.semibold,color:n.textPrimary},children:M.active})]})}),e.jsx(o.Card,{sx:{flex:"1 1 200px",minWidth:150,...z.base},children:e.jsxs(o.CardContent,{children:[e.jsx(o.Typography,{variant:"body2",sx:{color:n.textTertiary,fontSize:l.sizes.md},children:"Staging"}),e.jsx(o.Typography,{variant:"h4",sx:{fontWeight:l.weights.semibold,color:n.textPrimary},children:M.staging})]})}),e.jsx(o.Card,{sx:{flex:"1 1 200px",minWidth:150,...z.base},children:e.jsxs(o.CardContent,{children:[e.jsx(o.Typography,{variant:"body2",sx:{color:n.textTertiary,fontSize:l.sizes.md},children:"Experiments"}),e.jsx(o.Typography,{variant:"h4",sx:{fontWeight:l.weights.semibold,color:n.textPrimary},children:M.experiments})]})})]}),e.jsx(o.Box,{sx:{mt:4,mb:2},children:h.length===0&&!v?e.jsx(o.Box,{sx:{textAlign:"center",py:4,color:n.textTertiary},children:e.jsx(o.Typography,{sx:{fontSize:l.sizes.md},children:"No MLFlow runs have been synced yet. Configure the integration and click Sync to pull the latest models."})}):e.jsx(o.TableContainer,{sx:{border:`1px solid ${n.border}`,borderRadius:k.md},children:e.jsxs(o.Table,{sx:{minWidth:800},children:[e.jsx(o.TableHead,{sx:{backgroundColor:n.backgroundSecondary},children:e.jsx(o.TableRow,{children:["Model Name","Version","Status","Created","Last Updated","Description","Actions"].map(r=>e.jsx(o.TableCell,{sx:C.header,children:r},r))})}),e.jsx(o.TableBody,{children:Y.map(r=>e.jsxs(o.TableRow,{sx:{...C.row,cursor:"pointer"},onClick:()=>X(r),children:[e.jsx(o.TableCell,{sx:C.cell,children:r.model_name}),e.jsx(o.TableCell,{sx:C.cell,children:r.version}),e.jsx(o.TableCell,{sx:C.cell,children:e.jsx(o.Chip,{label:r.lifecycle_stage,size:"small",sx:{...L.base,...r.lifecycle_stage.toLowerCase()==="production"?L.success:r.lifecycle_stage.toLowerCase()==="staging"?L.warning:L.neutral}})}),e.jsx(o.TableCell,{sx:C.cell,children:P(r.creation_timestamp)}),e.jsx(o.TableCell,{sx:C.cell,children:P(r.last_updated_timestamp)}),e.jsx(o.TableCell,{sx:{...C.cell,maxWidth:200,overflow:"hidden",textOverflow:"ellipsis"},children:r.description||"No description"}),e.jsx(o.TableCell,{children:e.jsx(o.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:e.jsx(o.Tooltip,{title:"View details",children:e.jsx(o.IconButton,{size:"small",sx:{mr:1},children:e.jsx(N,{size:16})})})})})]},r.id))}),h.length>0&&e.jsx(o.TableFooter,{children:e.jsxs(o.TableRow,{children:[e.jsxs(o.TableCell,{sx:{fontSize:l.sizes.md,color:n.textTertiary},children:["Showing ",Q," of ",h.length," model(s)"]}),e.jsx(o.TablePagination,{count:h.length,page:b,onPageChange:J,rowsPerPage:c,rowsPerPageOptions:[5,10,15,25],onRowsPerPageChange:K,labelRowsPerPage:"Rows per page",labelDisplayedRows:({page:r,count:t})=>`Page ${r+1} of ${Math.max(1,Math.ceil(t/c))}`,slotProps:{select:{IconComponent:H}},sx:{fontSize:l.sizes.md}})]})})]})})}),a&&e.jsx(o.Box,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",...W.overlay,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(o.Card,{sx:{...W.content},children:e.jsxs(o.CardContent,{children:[e.jsxs(o.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(o.Typography,{variant:"h6",sx:{...W.title,fontSize:l.sizes.xl},children:a.model_name}),e.jsx(o.IconButton,{onClick:Z,sx:{color:n.textTertiary},children:e.jsx(G,{size:20})})]}),e.jsxs(o.Grid,{container:!0,spacing:2,children:[e.jsxs(o.Grid,{item:!0,xs:12,sm:6,children:[e.jsx(o.Typography,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Basic Information"}),e.jsxs(o.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Version:"})," ",a.version]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Status:"})," ",a.status||a.lifecycle_stage]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Run ID:"})," ",a.run_id]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Created:"})," ",P(a.creation_timestamp)]})]})]}),e.jsxs(o.Grid,{item:!0,xs:12,sm:6,children:[e.jsx(o.Typography,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Description"}),e.jsx(o.Typography,{variant:"body2",children:a.description||"No description available"})]}),e.jsxs(o.Grid,{item:!0,xs:12,children:[e.jsx(o.Typography,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Tags"}),e.jsx(o.Box,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Object.entries(a.tags||{}).map(([r,t])=>e.jsx(o.Chip,{label:`${r}: ${t}`,size:"small",sx:{backgroundColor:"#E0EAFF",color:"#0F172A",borderRadius:"4px"}},r))})]}),e.jsxs(o.Grid,{item:!0,xs:12,sm:6,children:[e.jsx(o.Typography,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Metrics"}),e.jsx(o.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:Object.entries(a.metrics||{}).map(([r,t])=>e.jsxs(o.Typography,{variant:"body2",children:[e.jsxs("strong",{children:[r,":"]})," ",typeof t=="number"?t.toFixed(4):t]},r))})]}),e.jsxs(o.Grid,{item:!0,xs:12,sm:6,children:[e.jsx(o.Typography,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Parameters"}),e.jsx(o.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:Object.entries(a.parameters||{}).map(([r,t])=>e.jsxs(o.Typography,{variant:"body2",children:[e.jsxs("strong",{children:[r,":"]})," ",String(t)]},r))})]}),e.jsxs(o.Grid,{item:!0,xs:12,children:[e.jsx(o.Typography,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Experiment Information"}),e.jsxs(o.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Experiment ID:"})," ",a.experiment_id]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Experiment Name:"})," ",a.experiment_name]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Artifact Location:"})," ",a.artifact_location]})]})]})]})]})})})]})},V=({configData:x={},onConfigChange:v,onSaveConfiguration:f,onTestConnection:u,isSavingConfig:i=!1,isTestingConnection:a=!1})=>{const[w,h]=p.useState({auth_method:"none",verify_ssl:"true",timeout:"30",...x}),y=(s,c)=>{h(g=>({...g,[s]:c})),v&&v(s,c)},b=[{key:"tracking_server_url",label:"Tracking Server URL",placeholder:"http://localhost:5000",type:"url"},{key:"auth_method",label:"Authentication Method",placeholder:"none",type:"select",options:[{value:"none",label:"None"},{value:"basic",label:"Basic Auth"},{value:"token",label:"Token"}]},{key:"username",label:"Username",placeholder:"Enter username",type:"text",showIf:s=>s.auth_method==="basic"},{key:"password",label:"Password",placeholder:"Enter password",type:"password",showIf:s=>s.auth_method==="basic"},{key:"api_token",label:"API Token",placeholder:"Enter API token",type:"password",showIf:s=>s.auth_method==="token"},{key:"verify_ssl",label:"Verify SSL",placeholder:"true",type:"checkbox"},{key:"timeout",label:"Request Timeout (seconds)",placeholder:"30",type:"number"}];return e.jsxs(o.Box,{children:[e.jsx(o.Typography,{variant:"body2",color:"text.secondary",fontSize:13,sx:{mb:3},children:"Configure your MLFlow tracking server connection settings."}),e.jsx(o.Stack,{spacing:2.5,children:b.map(s=>{var c;return s.showIf&&!s.showIf(w)?null:s.type==="select"?e.jsxs(o.Box,{children:[e.jsx(o.Typography,{variant:"body2",fontWeight:500,fontSize:13,sx:{mb:.75,color:"#344054"},children:s.label}),e.jsx(o.FormControl,{fullWidth:!0,size:"small",children:e.jsx(o.Select,{value:w[s.key]||s.placeholder||"",onChange:g=>y(s.key,g.target.value),sx:{fontSize:"13px",backgroundColor:"white"},children:(c=s.options)==null?void 0:c.map(g=>e.jsx(o.MenuItem,{value:g.value,sx:{fontSize:"13px"},children:g.label},g.value))})})]},s.key):s.type==="checkbox"?e.jsx(o.Box,{children:e.jsx(o.FormControlLabel,{control:e.jsx(o.Checkbox,{checked:w[s.key]==="true",onChange:g=>y(s.key,g.target.checked?"true":"false"),sx:{color:"#13715B","&.Mui-checked":{color:"#13715B"}}}),label:e.jsx(o.Typography,{variant:"body2",fontWeight:500,fontSize:13,sx:{color:"#344054"},children:s.label})})},s.key):e.jsxs(o.Box,{children:[e.jsx(o.Typography,{variant:"body2",fontWeight:500,fontSize:13,sx:{mb:.75,color:"#344054"},children:s.label}),e.jsx(o.TextField,{fullWidth:!0,type:s.type,placeholder:s.placeholder,value:w[s.key]||"",onChange:g=>y(s.key,g.target.value),size:"small",sx:{"& .MuiOutlinedInput-root":{fontSize:"13px",backgroundColor:"white"}}})]},s.key)})}),e.jsxs(o.Box,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:3},children:[u&&e.jsx(o.Button,{variant:"outlined",onClick:u,disabled:a||i,sx:{borderColor:"#13715B",color:"#13715B",textTransform:"none",fontSize:"13px",fontWeight:500,"&:hover":{borderColor:"#0f5a47",backgroundColor:"rgba(19, 113, 91, 0.04)"},"&:disabled":{borderColor:"#d0d5dd",color:"#98a2b3"}},children:a?"Testing...":"Test Connection"}),f&&e.jsx(o.Button,{variant:"contained",onClick:f,disabled:i||a,sx:{backgroundColor:"#13715B",textTransform:"none",fontSize:"13px",fontWeight:500,"&:hover":{backgroundColor:"#0f5a47"},"&:disabled":{backgroundColor:"#d0d5dd"}},children:i?"Saving...":"Save Configuration"})]})]})};return T.MLFlowConfiguration=V,T.MLFlowTab=U,Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}),T}({},jsxRuntime,React,MUI);
//# sourceMappingURL=index.esm.js.map
